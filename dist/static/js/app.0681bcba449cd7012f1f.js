webpackJsonp([1],{"/KgR":function(t,e){},"IX3+":function(t,e){},JD12:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navigation"},[e("router-link",{staticClass:"navigation__logo",attrs:{to:{name:"Root"}}},[this._v("VUE JS COURSE")]),this._v(" "),e("div",{staticClass:"navigation__menu"},[e("router-link",{attrs:{to:{name:"PageAbout"},"active-class":"active"}},[this._v("About")]),this._v(" "),e("router-link",{attrs:{to:{name:"UsersTable"},"active-class":"active"}},[this._v("Users")])],1)],1)},staticRenderFns:[]};var r={name:"App",components:{Navigation:s("VU/8")({name:"Navigation"},a,!1,function(t){s("wpRo")},"data-v-41664076",null).exports}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Navigation"),this._v(" "),e("div",{staticClass:"main"},[e("router-view")],1)],1)},staticRenderFns:[]};var o=s("VU/8")(r,i,!1,function(t){s("/KgR")},null,null).exports,u=s("/ocq"),l={name:"UsersList",props:{users:{required:!0,type:Array}},data:function(){return{showUsers:!0,defaultAvatar:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"}},methods:{toggleUsersList:function(){this.showUsers=!this.showUsers},getUserAvatar:function(t){return t||this.defaultAvatar},userForCopy:function(t){return t.firstName+" "+t.familyName+" "+t.lastName}},computed:{usersCount:function(){return this.users.length},buttonText:function(){return this.showUsers?"Скрыть таблицу":"Показать таблицу"},buttonTooltip:function(){return this.showUsers?"Скрыть таблицу":"Показать таблицу"}},filters:{toUpperCase:function(t){return t.toUpperCase()}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",{staticClass:"title"},[t._v("Пользователи ["+t._s(t.usersCount)+"]")]),t._v(" "),s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.toggleUsersList}},[t._v("\n    "+t._s(t.buttonText)+"\n  ")]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("table",{directives:[{name:"show",rawName:"v-show",value:t.showUsers,expression:"showUsers"}],staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v("Аватар")]),t._v(" "),s("th",[t._v("Имя")]),t._v(" "),s("th",[t._v("Фамилия")]),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",t._l(t.users,function(e){return s("tr",{key:e.id},[s("td",[s("img",{attrs:{width:"40px",src:t.getUserAvatar(e.picture)}})]),t._v(" "),s("td",[t._v(t._s(t._f("toUpperCase")(e.name.first)))]),t._v(" "),s("td",[t._v(t._s(t._f("toUpperCase")(e.name.last)))]),t._v(" "),s("td",[s("button",{directives:[{name:"copy",rawName:"v-copy",value:t.userForCopy(e),expression:"userForCopy(user)"}],staticClass:"button"},[t._v("Копировать")])]),t._v(" "),s("td",[s("router-link",{attrs:{to:{name:"UserForm",params:{id:e.id}}}},[s("button",{staticClass:"button",attrs:{type:"button"}},[t._v("\n              Редактировать\n            ")])])],1)])}))])])],1)},staticRenderFns:[]};var v=s("VU/8")(l,c,!1,function(t){s("wPHT")},"data-v-0aea7614",null).exports,d=s("mtWM"),m=s.n(d),p="/",f={name:"UserForm",mounted:function(){this.userID=this.$route.params.id,this.loadUser()},data:function(){return{userID:null,user:{}}},methods:{loadUser:function(){var t=this;m.a.get(p+"users/"+this.userID).then(function(e){t.user=e.data})},updateUser:function(){var t=this,e=this.user;m.a.put(p+"users/"+this.userID,e).then(function(e){alert("Пользователь сохраненён"),t.$emit("updateUser",t.user)})}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",{staticClass:"title"},[t._v("Редактирование пользователя")]),t._v(" "),s("router-link",{attrs:{to:{name:"UsersTable"}}},[s("button",{staticClass:"button",attrs:{type:"button"}},[t._v("\n        Вернуться в список пользователей\n      ")])]),t._v(" "),s("form",{directives:[{name:"show",rawName:"v-show",value:null!=t.user,expression:"user != null"}],on:{submit:function(e){return e.preventDefault(),t.updateUser(e)}}},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("First tName")]),t._v(" "),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name.first,expression:"user.name.first"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.name.first},on:{input:function(e){e.target.composing||t.$set(t.user.name,"first",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Last tName")]),t._v(" "),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name.last,expression:"user.name.last"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.name.last},on:{input:function(e){e.target.composing||t.$set(t.user.name,"last",e.target.value)}}})])]),t._v(" "),s("button",{staticClass:"button is-primary"},[t._v("\n      Сохранить\n    ")])])],1)},staticRenderFns:[]},_=s("VU/8")(f,h,!1,null,null,null).exports,U=m.a.create({headers:{Authorization:localStorage.getItem("token")}}),b={name:"UsersTable",components:{"users-list":v,"user-form":_},data:function(){return{users:[],visible:"list",editingUser:void 0}},mounted:function(){this.loadUsers()},computed:{visibleComponent:function(){return"editUser"===this.visible?"user-form":"users-list"}},methods:{loadUsers:function(){var t=this;U.get(p+"users").then(function(e){t.users=e.data})},editUser:function(t){this.editingUser=t.id,this.visible="editUser"},updateUser:function(t){var e=this.users.findIndex(function(e){return e.id===t.id});this.users[e]=t}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",["list"==t.visible?s(t.visibleComponent,{tag:"component",attrs:{users:t.users},on:{editUser:t.editUser}}):t._e(),t._v(" "),"editUser"==t.visible?s(t.visibleComponent,{tag:"component",attrs:{editingUser:t.editingUser},on:{updateUser:t.updateUser,returnToList:function(e){t.visible="list"}}}):t._e()],1)},staticRenderFns:[]},C=s("VU/8")(b,g,!1,null,null,null).exports,w={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"about"},[this._v("\n  Страница о проекте\n")])},staticRenderFns:[]};var x=s("VU/8")({name:"PageAbout"},w,!1,function(t){s("Q3PD")},null,null).exports,y={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"about"},[this._v("\n  Главная страница\n")])},staticRenderFns:[]};var N=s("VU/8")({name:"PageRoot"},y,!1,function(t){s("IX3+")},null,null).exports,R=s("Y81h"),F=s.n(R);s("UVIz");n.a.use(u.a);var A=new u.a({routes:[{path:"/",name:"Root",component:N},{path:"/users",name:"UsersTable",component:C},{path:"/user/:id",name:"UserForm",component:_},{path:"/about",name:"PageAbout",component:x}]});A.beforeEach(function(t,e,s){F.a.start(),"/about"===t.path?s():localStorage.getItem("token")?(F.a.done(),s({path:"/about"})):s()}),A.afterEach(function(t,e){F.a.done()});var E=A,I=s("VN6J"),P=s("afX9"),T=s.n(P);s("JD12");n.a.use(T.a),n.a.use(I.a),n.a.config.productionTip=!1,new n.a({el:"#app",router:E,components:{App:o},template:"<App/>"})},Q3PD:function(t,e){},UVIz:function(t,e){},wPHT:function(t,e){},wpRo:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0681bcba449cd7012f1f.js.map