webpackJsonp([1],{"0IkA":function(t,e){},JD12:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container",attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},n,!1,function(t){s("lZqT")},null,null).exports,a=s("/ocq"),u={name:"UsersList",props:{users:{required:!0,type:Array}},data:function(){return{showUsers:!0,defaultAvatar:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"}},methods:{toggleUsersList:function(){this.showUsers=!this.showUsers},getUserAvatar:function(t){return t||this.defaultAvatar},userForCopy:function(t){return t.firstName+" "+t.familyName+" "+t.lastName},editUser:function(t){this.$emit("editUser",t)}},computed:{usersCount:function(){return this.users.length},buttonText:function(){return this.showUsers?"Скрыть таблицу":"Показать таблицу"},buttonTooltip:function(){return this.showUsers?"Скрыть таблицу":"Показать таблицу"}},filters:{toUpperCase:function(t){return t.toUpperCase()}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",{staticClass:"title"},[t._v("Пользователи ["+t._s(t.usersCount)+"]")]),t._v(" "),s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.toggleUsersList}},[t._v("\n    "+t._s(t.buttonText)+"\n  ")]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("table",{directives:[{name:"show",rawName:"v-show",value:t.showUsers,expression:"showUsers"}],staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v("Аватар")]),t._v(" "),s("th",[t._v("Имя")]),t._v(" "),s("th",[t._v("Фамилия")]),t._v(" "),s("th",[t._v("Отчество")]),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",t._l(t.users,function(e){return s("tr",{key:e.id},[s("td",[s("img",{attrs:{width:"40px",src:t.getUserAvatar(e.avatar)}})]),t._v(" "),s("td",[t._v(t._s(t._f("toUpperCase")(e.firstName)))]),t._v(" "),s("td",[t._v(t._s(t._f("toUpperCase")(e.familyName)))]),t._v(" "),s("td",[t._v(t._s(t._f("toUpperCase")(e.lastName)))]),t._v(" "),s("td",[s("button",{directives:[{name:"copy",rawName:"v-copy",value:t.userForCopy(e),expression:"userForCopy(user)"}]},[t._v("copy")])]),t._v(" "),s("td",[s("button",{on:{click:function(s){t.editUser(e)}}},[t._v("edit")])])])}))])])],1)},staticRenderFns:[]};var l=s("VU/8")(u,o,!1,function(t){s("0IkA")},"data-v-79d09f33",null).exports,c=s("mtWM"),d=s.n(c),v="/",p={name:"UserForm",props:{editingUser:{required:!0,type:Number}},mounted:function(){this.loadUser()},data:function(){return{user:{}}},methods:{loadUser:function(){var t=this;d.a.get(v+"users/"+this.editingUser).then(function(e){t.user=e.data})},returnToList:function(){this.$emit("returnToList")},updateUser:function(){var t=this,e=this.user;d.a.put(v+"users/"+this.editingUser,e).then(function(e){alert("Пользователь сохраненён"),t.$emit("updateUser",t.user)})}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",{staticClass:"title"},[t._v("Редактирование пользователя")]),t._v(" "),s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.returnToList}},[t._v("\n      Вернуться в список пользователей\n    ")]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.updateUser(e)}}},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("First tName")]),t._v(" "),s("div",{staticClass:"control"},[s("input",{staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.firstName},on:{input:function(e){t.user.firstName=e.target.value}}})])]),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Family Name")]),t._v(" "),s("div",{staticClass:"control"},[s("input",{staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.familyName},on:{input:function(e){t.user.familyName=e.target.value}}})])]),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Last tName")]),t._v(" "),s("div",{staticClass:"control"},[s("input",{staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.lastName},on:{input:function(e){t.user.lastName=e.target.value}}})])]),t._v(" "),s("button",{staticClass:"button is-primary",on:{click:t.updateUser}},[t._v("\n      Сохранить\n    ")])])])},staticRenderFns:[]},m={name:"UsersTable",components:{"users-list":l,"user-form":s("VU/8")(p,f,!1,null,null,null).exports},data:function(){return{users:[],visible:"list",editingUser:void 0}},mounted:function(){this.loadUsers()},computed:{visibleComponent:function(){return"editUser"===this.visible?"user-form":"users-list"}},methods:{loadUsers:function(){var t=this;d.a.get(v+"users").then(function(e){t.users=e.data})},editUser:function(t){this.editingUser=t.id,this.visible="editUser"},updateUser:function(t){var e=this.users.findIndex(function(e){return e.id===t.id});this.users[e]=t}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",["list"==t.visible?s(t.visibleComponent,{tag:"component",attrs:{users:t.users},on:{editUser:t.editUser}}):t._e(),t._v(" "),"editUser"==t.visible?s(t.visibleComponent,{tag:"component",attrs:{editingUser:t.editingUser},on:{updateUser:t.updateUser,returnToList:function(e){t.visible="list"}}}):t._e()],1)},staticRenderFns:[]},h=s("VU/8")(m,_,!1,null,null,null).exports,U=s("VN6J"),b=s("afX9"),C=s.n(b);r.a.use(C.a),r.a.use(a.a),r.a.use(U.a);var g=new a.a({routes:[{path:"/",name:"UsersTable",component:h}]});s("JD12"),r.a.config.productionTip=!1,new r.a({el:"#app",router:g,components:{App:i},template:"<App/>"})},lZqT:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c443f476ebbf8edf77bc.js.map